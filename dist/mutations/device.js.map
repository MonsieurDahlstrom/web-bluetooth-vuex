{"version":3,"sources":["../../src/mutations/device.js"],"names":["MutationTypes","DeviceMutatations","BLE_DEVICE_ADDED","state","payload","deviceIndex","devices","indexOf","device","push","splice","BLE_DEVICE_REMOVED","services","filter","characteristics","includes","characteristic","service","characterToDelete","characteristicIndex","serviceToDelete","serviceIndex","BLE_DEVICE_UPDATED"],"mappings":"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","file":"device.js","sourcesContent":["import Vue from 'vue'\nimport * as MutationTypes from '../mutation-types'\n\nconst DeviceMutatations = {\n  [MutationTypes.BLE_DEVICE_ADDED] (state, payload) {\n    const deviceIndex = state.devices.indexOf(payload.device)\n    if (deviceIndex < 0) {\n      state.devices.push(payload.device)\n    } else {\n      state.devices.splice(deviceIndex,1,payload.device)\n    }\n  },\n  [MutationTypes.BLE_DEVICE_REMOVED] (state, payload) {\n    const deviceIndex = state.devices.indexOf(payload.device)\n    let services = state.services.filter(service => service.device === payload.device)\n    let characteristics = state.characteristics.filter(characteristic => services.includes(characteristic.service))\n    for(let characterToDelete of characteristics) {\n      let characteristicIndex = state.characteristics.indexOf(characterToDelete)\n      state.characteristics.splice(characteristicIndex,1)\n    }\n    for(let serviceToDelete of services) {\n      let serviceIndex = state.services.indexOf(serviceToDelete)\n      state.services.splice(serviceIndex,1)\n    }\n    state.devices.splice(deviceIndex, 1)\n  },\n  [MutationTypes.BLE_DEVICE_UPDATED] (state, payload) {\n    const deviceIndex = state.devices.indexOf(payload.device)\n    if (deviceIndex < 0) {\n      state.devices.push(payload.device)\n    } else {\n      state.devices.splice(deviceIndex,1,payload.device)\n    }\n  }\n}\n\nexport default DeviceMutatations\n"]}