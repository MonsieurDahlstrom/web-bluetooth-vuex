{"version":3,"sources":["../../src/mutations/service.js"],"names":["MutationTypes","ServiceMutatations","BLE_SERVICE_ADDED","state","service","serviceIndex","services","indexOf","push","splice","BLE_SERVICE_CHANGED","BLE_SERVICE_REMOVED","characteristics","filter","characteristic","characteristicIndex"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;;AACA;;IAAYA,a;;;;;;AAEZ,IAAMC,6FAEHD,cAAcE,iBAFX,YAE+BC,KAF/B,EAEsCC,OAFtC,EAE+C;AAAA;;AACjD,MAAIA,OAAJ,EAAa;AAAA;;AACX,QAAIC,uCAAeF,MAAMG,QAAN,CAAeC,OAAf,CAAuBH,OAAvB,CAAf,CAAJ;AADW;AAEX,QAAIC,eAAe,CAAnB,EAAsB;AAAA;AAAA;;AACpBF,YAAMG,QAAN,CAAeE,IAAf,CAAoBJ,OAApB;AACD,KAFD,MAEO;AAAA;AAAA;;AACLD,YAAMG,QAAN,CAAeG,MAAf,CAAsBJ,YAAtB,EAAmC,CAAnC,EAAqCD,OAArC;AACD;AACF,GAPD;AAAA;AAAA;AAQD,CAXG,uCAaHJ,cAAcU,mBAbX,YAaiCP,KAbjC,EAawCC,OAbxC,EAaiD;AAAA;;AACnD,MAAIA,OAAJ,EAAa;AAAA;;AACX,QAAIC,uCAAeF,MAAMG,QAAN,CAAeC,OAAf,CAAuBH,OAAvB,CAAf,CAAJ;AADW;AAEX,QAAIC,YAAJ,EAAkB;AAAA;AAAA;;AAChBF,YAAMG,QAAN,CAAeG,MAAf,CAAsBJ,YAAtB,EAAmC,CAAnC,EAAsCD,OAAtC;AACD,KAFD;AAAA;AAAA;AAGD,GALD;AAAA;AAAA;AAMD,CApBG,uCAsBHJ,cAAcW,mBAtBX,YAsBiCR,KAtBjC,EAsBwCC,OAtBxC,EAsBiD;AAAA;;AACnD,MAAIA,OAAJ,EAAa;AAAA;;AACX,QAAIQ,2CAAkBT,MAAMS,eAAN,CAAsBC,MAAtB,CAA6B,0BAAkB;AAAA;AAAA;AAAA,yBAAYC,eAAeV,OAA3B;AAAkC,KAAjF,CAAlB,CAAJ;AADW;AAAA;AAAA;AAAA;;AAAA;AAEX,sDAAsBQ,eAAtB,4GAAuC;AAAnCE,sBAAmC;;AACrC,YAAIC,+CAAsBZ,MAAMS,eAAN,CAAsBL,OAAtB,CAA8BO,cAA9B,CAAtB,CAAJ;AADqC;AAErCX,cAAMS,eAAN,CAAsBH,MAAtB,CAA6BM,mBAA7B,EAAiD,CAAjD;AACD;AALU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAMX,QAAIV,wCAAeF,MAAMG,QAAN,CAAeC,OAAf,CAAuBH,OAAvB,CAAf,CAAJ;AANW;AAOXD,UAAMG,QAAN,CAAeG,MAAf,CAAsBJ,YAAtB,EAAmC,CAAnC;AACD,GARD;AAAA;AAAA;AASD,CAhCG,SAAN;kBAmCeJ,kB","file":"service.js","sourcesContent":["import Vue from 'vue'\nimport * as MutationTypes from '../mutation-types'\n\nconst ServiceMutatations = {\n\n  [MutationTypes.BLE_SERVICE_ADDED] (state, service) {\n    if (service) {\n      var serviceIndex = state.services.indexOf(service)\n      if (serviceIndex < 0) {\n        state.services.push(service)\n      } else {\n        state.services.splice(serviceIndex,1,service)\n      }\n    }\n  },\n\n  [MutationTypes.BLE_SERVICE_CHANGED] (state, service) {\n    if (service) {\n      var serviceIndex = state.services.indexOf(service)\n      if (serviceIndex) {\n        state.services.splice(serviceIndex,1, service)\n      }\n    }\n  },\n\n  [MutationTypes.BLE_SERVICE_REMOVED] (state, service) {\n    if (service) {\n      let characteristics = state.characteristics.filter(characteristic => service === characteristic.service)\n      for(characteristic of characteristics) {\n        let characteristicIndex = state.characteristics.indexOf(characteristic)\n        state.characteristics.splice(characteristicIndex,1)\n      }\n      var serviceIndex = state.services.indexOf(service)\n      state.services.splice(serviceIndex,1)\n    }\n  }\n\n}\nexport default ServiceMutatations\n"]}