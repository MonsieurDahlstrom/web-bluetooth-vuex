{"version":3,"sources":["../src/web-bluetooth-store-utils.js"],"names":["Cannonical128UUIDBase","DFU_BASE","DFUSecure","replace","DFU_CHAR_BASE","DFUSecureControlPoint","DFUSecurePacket","WebBluetoothStoreUtils","methods","disService","device","DeviceInformationUUID","BluetoothUUID","canonicalUUID","$store","getters","webBluetoothServicesForDevice","find","service","uuid","dfuService","valueForCharacteristicUUID","characteristic","webBluetoothCharacteristicsForService","value","stringForCharacteristicValue","dataview","text","i","l","byteLength","String","fromCharCode","getUint8"],"mappings":";;;;;AAAA,IAAMA,wBAAwB,sCAA9B;;AAEA,IAAMC,WAAW,sCAAjB;AACO,IAAMC,gCAAYD,SAASE,OAAT,CAAiB,MAAjB,EAAyB,MAAzB,CAAlB;AACP,IAAMC,gBAAgB,sCAAtB;AAEO,IAAMC,wDAAwBD,cAAcD,OAAd,CAAsB,MAAtB,EAA8B,MAA9B,CAA9B;AAEA,IAAMG,4CAAkBF,cAAcD,OAAd,CAAsB,MAAtB,EAA8B,MAA9B,CAAxB;;AAEP,IAAMI,yBAAyB;AAC7BC,WAAS;AACPC,gBAAY,oBAAUC,MAAV,EAAkB;AAC5B,UAAIC,wBAAwBC,cAAcC,aAAd,CAA4B,MAA5B,CAA5B;AACA,aAAO,KAAKC,MAAL,CAAYC,OAAZ,CAAoBC,6BAApB,CAAkDN,MAAlD,EAA0DO,IAA1D,CAA+D,UAACC,OAAD;AAAA,eAAaA,QAAQC,IAAR,KAAiBR,qBAA9B;AAAA,OAA/D,CAAP;AACD,KAJM;AAKPS,gBAAY,oBAAUV,MAAV,EAAkB;AAC5B,aAAO,KAAKI,MAAL,CAAYC,OAAZ,CAAoBC,6BAApB,CAAkDN,MAAlD,EAA0DO,IAA1D,CAA+D,UAACC,OAAD;AAAA,eAAaA,QAAQC,IAAR,KAAiBjB,SAA9B;AAAA,OAA/D,CAAP;AACD,KAPM;AAQPmB,gCAA4B,oCAAUH,OAAV,EAAmBC,IAAnB,EAAyB;AACnD,UAAIG,iBAAiB,KAAKR,MAAL,CAAYC,OAAZ,CAAoBQ,qCAApB,CAA0DL,OAA1D,EAAmED,IAAnE,CAAwE,UAACK,cAAD;AAAA,eAAoBA,eAAeH,IAAf,KAAwBA,IAA5C;AAAA,OAAxE,CAArB;AACA,aAAOG,eAAeE,KAAtB;AACD,KAXM;AAYPC,kCAA8B,sCAAUC,QAAV,EAAoB;AAChD,UAAIC,OAAO,EAAX;AACA,WAAK,IAAIC,IAAI,CAAR,EAAWC,IAAIH,SAASI,UAA7B,EAAyCF,IAAIC,CAA7C,EAAgDD,GAAhD,EAAqD;AACnDD,gBAAQI,OAAOC,YAAP,CAAoBN,SAASO,QAAT,CAAkBL,CAAlB,CAApB,CAAR;AACD;AACD,aAAOD,IAAP;AACD;AAlBM;AADoB,CAA/B;;kBAuBepB,sB","file":"web-bluetooth-store-utils.js","sourcesContent":["const Cannonical128UUIDBase = '0000XXXX-0000-1000-8000-00805f9b34fb'\n// DFU by Nordic Semiconductor\nconst DFU_BASE = '0000xxxx-0000-1000-8000-00805f9b34fb'\nexport const DFUSecure = DFU_BASE.replace('xxxx', 'fe59')\nconst DFU_CHAR_BASE = '8ec9xxxx-f315-4f60-9fb8-838830daea50'\n// Control Point is notify, write\nexport const DFUSecureControlPoint = DFU_CHAR_BASE.replace('xxxx', '0001')\n// Packet is Write No Response\nexport const DFUSecurePacket = DFU_CHAR_BASE.replace('xxxx', '0002')\n\nconst WebBluetoothStoreUtils = {\n  methods: {\n    disService: function (device) {\n      var DeviceInformationUUID = BluetoothUUID.canonicalUUID(0x180A)\n      return this.$store.getters.webBluetoothServicesForDevice(device).find((service) => service.uuid === DeviceInformationUUID)\n    },\n    dfuService: function (device) {\n      return this.$store.getters.webBluetoothServicesForDevice(device).find((service) => service.uuid === DFUSecure)\n    },\n    valueForCharacteristicUUID: function (service, uuid) {\n      var characteristic = this.$store.getters.webBluetoothCharacteristicsForService(service).find((characteristic) => characteristic.uuid === uuid)\n      return characteristic.value\n    },\n    stringForCharacteristicValue: function (dataview) {\n      var text = ''\n      for (var i = 0, l = dataview.byteLength; i < l; i++) {\n        text += String.fromCharCode(dataview.getUint8(i))\n      }\n      return text\n    }\n  }\n}\n\nexport default WebBluetoothStoreUtils\n"]}