{"version":3,"sources":["../src/web-bluetooth-store-utils.js"],"names":["Cannonical128UUIDBase","DFU_BASE","DFUSecure","replace","DFU_CHAR_BASE","DFUSecureControlPoint","DFUSecurePacket","WebBluetoothStoreUtils","methods","disService","device","DeviceInformationUUID","BluetoothUUID","canonicalUUID","$store","getters","webBluetoothServicesForDevice","find","service","uuid","dfuService","valueForCharacteristicUUID","characteristic","webBluetoothCharacteristicsForService","value","stringForCharacteristicValue","dataview","text","i","l","byteLength","String","fromCharCode","getUint8"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAMA,gDAAwB,sCAAxB,CAAN;;AAEA,IAAMC,mCAAW,sCAAX,CAAN;AACO,IAAMC,wDAAYD,SAASE,OAAT,CAAiB,MAAjB,EAAyB,MAAzB,CAAZ,CAAN;AACP,IAAMC,wCAAgB,sCAAhB,CAAN;AAEO,IAAMC,gFAAwBD,cAAcD,OAAd,CAAsB,MAAtB,EAA8B,MAA9B,CAAxB,CAAN;AAEA,IAAMG,oEAAkBF,cAAcD,OAAd,CAAsB,MAAtB,EAA8B,MAA9B,CAAlB,CAAN;;AAEP,IAAMI,iDAAyB;AAC7BC,WAAS;AACPC,gBAAY,oBAAUC,MAAV,EAAkB;AAAA;;AAC5B,UAAIC,gDAAwBC,cAAcC,aAAd,CAA4B,MAA5B,CAAxB,CAAJ;AAD4B;AAE5B,aAAO,KAAKC,MAAL,CAAYC,OAAZ,CAAoBC,6BAApB,CAAkDN,MAAlD,EAA0DO,IAA1D,CAA+D,UAACC,OAAD,EAAa;AAAA;AAAA;AAAA,uBAAQC,IAAR,KAAiBR,qBAAjB;AAAsC,OAAlH,CAAP;AACD,KAJM;AAKPS,gBAAY,oBAAUV,MAAV,EAAkB;AAAA;AAAA;;AAC5B,aAAO,KAAKI,MAAL,CAAYC,OAAZ,CAAoBC,6BAApB,CAAkDN,MAAlD,EAA0DO,IAA1D,CAA+D,UAACC,OAAD,EAAa;AAAA;AAAA;AAAA,uBAAQC,IAAR,KAAiBjB,SAAjB;AAA0B,OAAtG,CAAP;AACD,KAPM;AAQPmB,gCAA4B,oCAAUH,OAAV,EAAmBC,IAAnB,EAAyB;AAAA;;AACnD,UAAIG,0CAAiB,KAAKR,MAAL,CAAYC,OAAZ,CAAoBQ,qCAApB,CAA0DL,OAA1D,EAAmED,IAAnE,CAAwE,UAACK,cAAD,EAAoB;AAAA;AAAA;AAAA,8BAAeH,IAAf,KAAwBA,IAAxB;AAA4B,OAAxH,CAAjB,CAAJ;AADmD;AAEnD,aAAOG,eAAeE,KAAtB;AACD,KAXM;AAYPC,kCAA8B,sCAAUC,QAAV,EAAoB;AAAA;;AAChD,UAAIC,gCAAO,EAAP,CAAJ;AADgD;AAEhD,WAAK,IAAIC,IAAI,CAAR,EAAWC,IAAIH,SAASI,UAA7B,EAAyCF,IAAIC,CAA7C,EAAgDD,GAAhD,EAAqD;AAAA;;AACnDD,gBAAQI,OAAOC,YAAP,CAAoBN,SAASO,QAAT,CAAkBL,CAAlB,CAApB,CAAR;AACD;AAJ+C;AAKhD,aAAOD,IAAP;AACD;AAlBM;AADoB,CAAzB,CAAN;;kBAuBepB,sB","file":"web-bluetooth-store-utils.js","sourcesContent":["const Cannonical128UUIDBase = '0000XXXX-0000-1000-8000-00805f9b34fb'\n// DFU by Nordic Semiconductor\nconst DFU_BASE = '0000xxxx-0000-1000-8000-00805f9b34fb'\nexport const DFUSecure = DFU_BASE.replace('xxxx', 'fe59')\nconst DFU_CHAR_BASE = '8ec9xxxx-f315-4f60-9fb8-838830daea50'\n// Control Point is notify, write\nexport const DFUSecureControlPoint = DFU_CHAR_BASE.replace('xxxx', '0001')\n// Packet is Write No Response\nexport const DFUSecurePacket = DFU_CHAR_BASE.replace('xxxx', '0002')\n\nconst WebBluetoothStoreUtils = {\n  methods: {\n    disService: function (device) {\n      var DeviceInformationUUID = BluetoothUUID.canonicalUUID(0x180A)\n      return this.$store.getters.webBluetoothServicesForDevice(device).find((service) => service.uuid === DeviceInformationUUID)\n    },\n    dfuService: function (device) {\n      return this.$store.getters.webBluetoothServicesForDevice(device).find((service) => service.uuid === DFUSecure)\n    },\n    valueForCharacteristicUUID: function (service, uuid) {\n      var characteristic = this.$store.getters.webBluetoothCharacteristicsForService(service).find((characteristic) => characteristic.uuid === uuid)\n      return characteristic.value\n    },\n    stringForCharacteristicValue: function (dataview) {\n      var text = ''\n      for (var i = 0, l = dataview.byteLength; i < l; i++) {\n        text += String.fromCharCode(dataview.getUint8(i))\n      }\n      return text\n    }\n  }\n}\n\nexport default WebBluetoothStoreUtils\n"]}