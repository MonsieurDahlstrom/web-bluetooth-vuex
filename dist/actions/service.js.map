{"version":3,"sources":["../../src/actions/service.js"],"names":["MutationTypes","ServiceActions","webBluetoothDiscoverServices","query","dispatch","commit","discoveredServices","device","gatt","getPrimaryServices","services","service","BLE_SERVICE_ADDED","webBluetoothDiscoverService","getPrimaryService","uuid","webBluetoothRemoveService","GattServiceAddedCallback","GattServiceChangedCallback","GattServiceRemovedCallback","BLE_SERVICE_REMOVED"],"mappings":"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","file":"service.js","sourcesContent":["import * as MutationTypes from '../mutation-types'\n\nconst ServiceActions = {\n\n  async webBluetoothDiscoverServices ({ dispatch, commit }, query) {\n    let discoveredServices = []\n    var services = await query.device.gatt.getPrimaryServices()\n    for (var service of services) {\n      dispatch('webBluetoothDiscoverCharacteristics',{service: service})\n      commit(MutationTypes.BLE_SERVICE_ADDED, service)\n    }\n  },\n\n  async webBluetoothDiscoverService ({ dispatch, commit }, query) {\n    let service = await query.device.gatt.getPrimaryService(query.uuid)\n    if (service) {\n      dispatch('webBluetoothDiscoverCharacteristics',{service: service})\n      commit(MutationTypes.BLE_SERVICE_ADDED, service)\n    }\n  },\n\n  async webBluetoothRemoveService ({ dispatch, commit }, service) {\n    if (service) {\n      if (service.GattServiceAddedCallback) {\n\n      }\n      if (service.GattServiceChangedCallback) {\n\n      }\n      if (service.GattServiceRemovedCallback) {\n\n      }\n      dispatch('webBluetoothRemoveCharacteristics',{service: service})\n      commit(MutationTypes.BLE_SERVICE_REMOVED, service)\n    }\n  }\n\n}\n\nexport default ServiceActions\n"]}